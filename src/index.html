<!DOCTYPE html>
<html lang="en" ng-app='cloneit'>
  <head>
    <meta charset="utf-8">
    <title>Reddit Clone</title>
    
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">

  </head>
  <body>


    <!-- main controller / container -->
    <div class="container-fluid" ng-controller="mainController">

      <!-- Nav Bar -->
      <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">
              <p>CloneIt</p>
            </a>
          </div>

          <!-- form beginning -->
          <form class="navbar-form navbar-left" role="search">
            <!-- search -->
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search" ng-model="search">
            </div>
            <!-- sort by -->
            <div class="form-group">
              <select name="sort" ng-model="sort" ng-init="post.votes">
                <option value="votes">Votes</option>
                <option value="date">Dates</option>
              </select>
            </div>
          </form>
          <!-- form end -->

          <ul class="nav navbar-nav navbar-right">
            <!-- new post with logic to show the new post-->
            <li><a ng-href="" ng-click="showNew=true"><span class="glyphicon glyphicon-pencil"></span> Add New Post</a></li>
          </ul>
        </div>
      </nav>

    <!-- New Post -->
    <form class="form-horizontal" ng-show="showNew">
      <fieldset>
        <legend>New Post</legend>
      </fieldset>
    </form>

      
      <!-- repeating through posts, with search and sort -->
      <div class="row" ng-repeat="post in posts | filter:search | orderBy:sort">

        <!-- image of post -->
        <div class="col-md-3">
          <img class="full" ng-src="{{ post.image }}">
        </div>

        <!-- title, author -->
        <div class="col-md-9">
          <div class="row">
            <div class="col-md-12">
              <h1>{{ post.title }} | {{ post.votes }} | <span class="{{ plus }}" ng-click="vote('plus', $index)"></span><span class="{{ minus }}" ng-click="vote('minus', $index)"></span></h1>
              <h3 class="pull-right">Author: {{post.author}}</h4>
            </div>
          </div>


          <div class="row">
            <div class="col-md-12">
              <!-- article -->
              <p>{{post.description}}</p>
              <!-- date, comments, and adding one -->
              <h5><span class="{{ calendar }}"> {{ post.date | relativeDate }} at {{ post.date | date:'shortTime' }} | </span><span class="comments">  {{ post.comments.length }} comment(s) |</span> <span class="{{ addComment }}">Add Comment</span></h5>
            </div>
          </div>
        </div>    
      </div>

        <!-- controller end -->
    </div>
    
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    
    <!-- angular -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <!-- Relative Date Brought in -->
    <script src="js/angular-relative-date.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
  </body>
</html>
